<!--
  Generated template for the Chat page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>聊天记录</ion-title>
    <ion-buttons end>
      <!--<ion-label icon-only class="date-content">-->
        <!--<ion-icon name="calendar" class="whColor"></ion-icon>-->
      <!--</ion-label>-->
      <button ion-button icon-only tappable="">
        <ion-icon name="calendar" class="whColor"></ion-icon>
        <!--<img src="./assets/img/filterLog.png" class="whColor">-->
      </button>
      <ion-datetime displayFormat="YYYY年MM月DD日" [(ngModel)]="visitTime" class="date-btn"
                    min="2017-01-01" max="2030"
                    pickerFormat="YYYY MM DD"
                    doneText='确认'
                    cancelText='取消'>
      </ion-datetime>
    </ion-buttons>
    <!--<ion-buttons end>-->
      <!--<button ion-button icon-only (tap)="displayCalendar()" tappable="">-->
        <!--<ion-icon name="funnel"></ion-icon>-->
      <!--</button>-->
    <!--</ion-buttons>-->
  </ion-navbar>

</ion-header>


<ion-content >
  <ion-refresher (ionRefresh)="doRefresh($event)">
    <ion-refresher-content
      pullingIcon="arrow-dropdown"
      pullingText="Pull to refresh"
      refreshingSpinner="circles"
      refreshingText="数据加载中...">
    </ion-refresher-content>
  </ion-refresher>

  <div class="message-wrap">
    <div *ngFor="let msgDateArr of msgList">
      <div class="msg-info" text-center="" style="color:#eeeeee">
        <p>------{{msgDateArr.date}}------</p>
      </div>
    <div *ngFor="let msg of msgDateArr.data"
         class="message"
         [class.left]=" msg.direction == 'from' "
         [class.right]=" msg.direction == 'to' ">


      <img class="user-img" [src]="_DomSanitizationService.bypassSecurityTrustUrl(msg.avatar)" alt="" src="">
      <!--<ion-spinner name="dots" *ngIf="msg.data.status == 'pending'"></ion-spinner>-->
      <div class="msg-detail">
        <!--<div class="msg-info">-->
          <!--<p>-->
            <!--{{msg.userName}}&nbsp;&nbsp;&nbsp;{{msg.time | relativeTime}}</p>-->
        <!--</div>-->
        <div class="msg-content">
          <span class="triangle"></span>
          <p class="line-breaker ">{{msg.message}}</p>
        </div>
      </div>
    </div>
    </div>
  </div>



  <!--<ion-item-group *ngFor="let item of charRecord">-->
    <!--<ion-item-divider color="light" text-center="">{{item.date}}</ion-item-divider>-->

    <!--<ion-item no-lines="" no-border="" *ngFor="let item2 of item.data" >-->
    <!--<ion-avatar item-left="" *ngIf="isSender(item2.sender)">-->
      <!--<img src="./assets/img/avatar.png">-->
    <!--</ion-avatar>-->
    <!--<div class="speech left" ng-class="speech left" *ngIf="isSender(item2.sender)">-->
      <!--{{item2.sender}}-->
    <!--</div>-->
      <!--<ion-avatar item-right="" *ngIf="isReceive(item2.receive)">-->
        <!--<img src="./assets/img/avatar.png">-->
      <!--</ion-avatar>-->
      <!--<div class="speech right" ng-class="speech right" *ngIf="isReceive(item2.receive)">-->
        <!--{{item2.receive}}-->
      <!--</div>-->
  <!--</ion-item>-->
  <!--</ion-item-group>-->



</ion-content>
